{"ast":null,"code":"var _jsxFileName = \"/Users/userr2232/Documents/miscProjects/UTEC/databases/BD-Proyecto2/frontend/src/components/Search.js\";\nimport React, { useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport searchicon from \"../search.svg\";\nimport axios from 'axios';\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\nconst FormContainer = styled.div`\n    width: 400px;\n    height: 70px;\n    border-radius: 10px;\n    background: white;\n    box-shadow: 0 6px 30px -10px #d5dbed;\n    margin-bottom: 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\nconst FormTab = styled.div`\n    width: 95%;\n    background: transparent;\n    height: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`;\nconst SearchField = styled.div`\n    width: 75%;\n    height: 50px;\n    background-color: #ECF1F4;\n    border-radius: 6px;\n    position: relative;\n    overflow: hidden;\n    z-index: 2;\n`;\nconst SearchButton = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-transform: uppercase;\n    cursor: pointer;\n    width: 25%;\n    z-index: 2;\n`;\nconst SearchIcon = styled.img`\n    height: 40px;\n    position: absolute;\n    top: 5px;\n    left: 8px;\n`;\nconst TextField = styled.input`\n    background: transparent;\n    font-size: 1.1em;\n    color: #3f3f3f;\n    border: none;\n    width: 100%;\n    height: 100%;\n    padding: 5px 5px 5px 60px;\n`;\nconst PlaceHolder = styled.p`\n    position: absolute;\n    left: 60px;\n    color: #6e80a5;\n    opacity: 0.8;\n`;\nconst Form = styled.form`\n    position: absolute;\n    width: 100%;\n    height: 100%;\n`;\nconst Overlay = styled.div`\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: ${props => props.active ? 1 : -1};\n`;\n\nconst Search = () => {\n  const inputRef = useRef(null);\n  const [active, setActive] = useState(false);\n  const [query, setQuery] = useState(\"\");\n\n  const submitForm = async e => {\n    e.preventDefault();\n    const data = await axios.get(\"http://127.0.0.1:5000\", {\n      params: {\n        q: query\n      }\n    });\n    console.log(\"form submitted\", query);\n    setQuery(\"\");\n    setActive(false);\n    inputRef.current.blur();\n    console.log(\"data\", data);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Overlay, {\n    active: active,\n    onClick: () => {\n      setActive(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormTab, {\n    onClick: () => {\n      if (active) {\n        setActive(false);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(SearchField, {\n    onClick: e => {\n      setActive(true);\n      e.stopPropagation();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    src: searchicon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }), !active && query === \"\" ? /*#__PURE__*/React.createElement(PlaceHolder, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 56\n    }\n  }, \"Documents\") : /*#__PURE__*/React.createElement(React.Fragment, null), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    ref: inputRef,\n    type: \"text\",\n    value: query,\n    onChange: e => {\n      const str = e.target.value.trim();\n      if (!(query === \"\" && str === \"\")) setQuery(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(SearchButton, {\n    onClick: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  }, \"search\"))))));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/userr2232/Documents/miscProjects/UTEC/databases/BD-Proyecto2/frontend/src/components/Search.js"],"names":["React","useState","useRef","styled","axios","Wrapper","div","FormContainer","FormTab","SearchField","SearchButton","SearchIcon","img","TextField","input","PlaceHolder","p","Form","form","Overlay","props","active","Search","inputRef","setActive","query","setQuery","submitForm","e","preventDefault","data","get","params","q","console","log","current","blur","stopPropagation","searchicon","str","target","value","trim"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport styled from 'styled-components'\nimport searchicon from '../search.svg';\nimport axios from 'axios';\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\n\nconst FormContainer = styled.div`\n    width: 400px;\n    height: 70px;\n    border-radius: 10px;\n    background: white;\n    box-shadow: 0 6px 30px -10px #d5dbed;\n    margin-bottom: 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n\nconst FormTab = styled.div`\n    width: 95%;\n    background: transparent;\n    height: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`\n\nconst SearchField = styled.div`\n    width: 75%;\n    height: 50px;\n    background-color: #ECF1F4;\n    border-radius: 6px;\n    position: relative;\n    overflow: hidden;\n    z-index: 2;\n`;\n\nconst SearchButton = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-transform: uppercase;\n    cursor: pointer;\n    width: 25%;\n    z-index: 2;\n`\n\nconst SearchIcon = styled.img`\n    height: 40px;\n    position: absolute;\n    top: 5px;\n    left: 8px;\n`\n\nconst TextField = styled.input`\n    background: transparent;\n    font-size: 1.1em;\n    color: #3f3f3f;\n    border: none;\n    width: 100%;\n    height: 100%;\n    padding: 5px 5px 5px 60px;\n`\n\nconst PlaceHolder = styled.p`\n    position: absolute;\n    left: 60px;\n    color: #6e80a5;\n    opacity: 0.8;\n`\n\nconst Form = styled.form`\n    position: absolute;\n    width: 100%;\n    height: 100%;\n`\nconst Overlay = styled.div`\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: ${props => props.active ? 1 : -1};\n`\n\nconst Search = () => {\n    const inputRef = useRef(null);\n\n    const [active, setActive] = useState(false);\n    const [query, setQuery] = useState(\"\");\n\n    const submitForm = async (e) => {\n        e.preventDefault();\n        const data = await axios.get(\"http://127.0.0.1:5000\", {\n            params: {\n                q: query\n            }\n        })\n        console.log(\"form submitted\", query);\n        setQuery(\"\");\n        setActive(false);\n        inputRef.current.blur()\n        console.log(\"data\", data)\n    }\n\n    return(\n        <>\n            <Overlay active={active} onClick={ () => { setActive(false) }  }/>\n            <Wrapper >\n                <FormContainer>\n                    <FormTab onClick={() => { if(active) { setActive(false) } } }>\n                        <SearchField onClick={(e) => { setActive(true); e.stopPropagation(); } }>\n                            <SearchIcon src={searchicon}/>\n                            {!active && query === \"\" ? <PlaceHolder>Documents</PlaceHolder> : <></>}\n                            <Form onSubmit={submitForm}>\n                                <TextField\n                                    ref={inputRef}\n                                    type={\"text\"}\n                                    value={query}\n                                    onChange={(e) => {\n                                        const str = e.target.value.trim();\n                                        if(!(query ===\"\" && str === \"\"))\n                                            setQuery(e.target.value)\n                                    }}\n                                />\n                            </Form>\n                        </SearchField>\n                        <SearchButton onClick={submitForm}>\n                            <p>search</p>\n                        </SearchButton>\n                    </FormTab>\n                </FormContainer>\n            </Wrapper>\n        </>\n    )\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}