{"ast":null,"code":"var _jsxFileName = \"/Users/userr2232/Documents/miscProjects/UTEC/databases/BD-Proyecto2/frontend/src/components/Search.js\";\nimport React, { useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport searchicon from \"../search.svg\";\nimport axios from 'axios';\nimport Card from \"./Card\";\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\nconst FormContainer = styled.div`\n    width: 400px;\n    height: 70px;\n    border-radius: 10px;\n    background: white;\n    box-shadow: 0 6px 30px -10px #d5dbed;\n    margin-bottom: 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\nconst FormTab = styled.div`\n    width: 95%;\n    background: transparent;\n    height: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`;\nconst SearchField = styled.div`\n    width: 75%;\n    height: 50px;\n    background-color: #ECF1F4;\n    border-radius: 6px;\n    position: relative;\n    overflow: hidden;\n    z-index: 2;\n`;\nconst SearchButton = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-transform: uppercase;\n    cursor: pointer;\n    width: 25%;\n    z-index: 2;\n`;\nconst SearchIcon = styled.img`\n    height: 40px;\n    position: absolute;\n    top: 5px;\n    left: 8px;\n`;\nconst TextField = styled.input`\n    background: transparent;\n    font-size: 1.1em;\n    color: #3f3f3f;\n    border: none;\n    width: 100%;\n    height: 100%;\n    padding: 5px 5px 5px 60px;\n`;\nconst PlaceHolder = styled.p`\n    position: absolute;\n    left: 60px;\n    color: #6e80a5;\n    opacity: 0.8;\n`;\nconst Form = styled.form`\n    position: absolute;\n    width: 100%;\n    height: 100%;\n`;\nconst Overlay = styled.div`\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: ${props => props.active ? 1 : -1};\n`;\nconst Results = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\n\nconst Search = () => {\n  const inputRef = useRef(null);\n  const [active, setActive] = useState(false);\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n\n  const submitForm = async e => {\n    e.preventDefault();\n    const data = await axios.get(\"http://127.0.0.1:5000\", {\n      params: {\n        q: query\n      }\n    });\n    setQuery(\"\");\n    setActive(false);\n    inputRef.current.blur();\n    setResults(data.data);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Overlay, {\n    active: active,\n    onClick: () => {\n      setActive(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormTab, {\n    onClick: () => {\n      if (active) {\n        setActive(false);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(SearchField, {\n    onClick: e => {\n      setActive(true);\n      e.stopPropagation();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    src: searchicon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }\n  }), !active && query === \"\" ? /*#__PURE__*/React.createElement(PlaceHolder, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 56\n    }\n  }, \"Documents\") : /*#__PURE__*/React.createElement(React.Fragment, null), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    ref: inputRef,\n    type: \"text\",\n    value: query,\n    onChange: e => {\n      const str = e.target.value.trim();\n      if (!(query === \"\" && str === \"\")) setQuery(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(SearchButton, {\n    onClick: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 29\n    }\n  }, \"search\")))), /*#__PURE__*/React.createElement(Results, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, results.map(result => /*#__PURE__*/React.createElement(Card, {\n    key: result.id,\n    text: result.text,\n    user_name: result.user_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 25\n    }\n  })))));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/userr2232/Documents/miscProjects/UTEC/databases/BD-Proyecto2/frontend/src/components/Search.js"],"names":["React","useState","useRef","styled","axios","Card","Wrapper","div","FormContainer","FormTab","SearchField","SearchButton","SearchIcon","img","TextField","input","PlaceHolder","p","Form","form","Overlay","props","active","Results","Search","inputRef","setActive","query","setQuery","results","setResults","submitForm","e","preventDefault","data","get","params","q","current","blur","stopPropagation","searchicon","str","target","value","trim","map","result","id","text","user_name"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport styled from 'styled-components'\nimport searchicon from '../search.svg';\nimport axios from 'axios';\nimport Card from \"./Card\";\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\n\nconst FormContainer = styled.div`\n    width: 400px;\n    height: 70px;\n    border-radius: 10px;\n    background: white;\n    box-shadow: 0 6px 30px -10px #d5dbed;\n    margin-bottom: 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n\nconst FormTab = styled.div`\n    width: 95%;\n    background: transparent;\n    height: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`\n\nconst SearchField = styled.div`\n    width: 75%;\n    height: 50px;\n    background-color: #ECF1F4;\n    border-radius: 6px;\n    position: relative;\n    overflow: hidden;\n    z-index: 2;\n`;\n\nconst SearchButton = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-transform: uppercase;\n    cursor: pointer;\n    width: 25%;\n    z-index: 2;\n`\n\nconst SearchIcon = styled.img`\n    height: 40px;\n    position: absolute;\n    top: 5px;\n    left: 8px;\n`\n\nconst TextField = styled.input`\n    background: transparent;\n    font-size: 1.1em;\n    color: #3f3f3f;\n    border: none;\n    width: 100%;\n    height: 100%;\n    padding: 5px 5px 5px 60px;\n`\n\nconst PlaceHolder = styled.p`\n    position: absolute;\n    left: 60px;\n    color: #6e80a5;\n    opacity: 0.8;\n`\n\nconst Form = styled.form`\n    position: absolute;\n    width: 100%;\n    height: 100%;\n`\nconst Overlay = styled.div`\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: ${props => props.active ? 1 : -1};\n`\n\nconst Results = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\n\nconst Search = () => {\n    const inputRef = useRef(null);\n\n    const [active, setActive] = useState(false);\n    const [query, setQuery] = useState(\"\");\n    const [results, setResults] = useState([]);\n\n    const submitForm = async (e) => {\n        e.preventDefault();\n        const data = await axios.get(\"http://127.0.0.1:5000\", {\n            params: {\n                q: query\n            }\n        })\n        setQuery(\"\");\n        setActive(false);\n        inputRef.current.blur();\n        setResults(data.data);\n    }\n\n    return(\n        <>\n            <Overlay active={active} onClick={ () => { setActive(false) }  }/>\n            <Wrapper >\n                <FormContainer>\n                    <FormTab onClick={() => { if(active) { setActive(false) } } }>\n                        <SearchField onClick={(e) => { setActive(true); e.stopPropagation(); } }>\n                            <SearchIcon src={searchicon}/>\n                            {!active && query === \"\" ? <PlaceHolder>Documents</PlaceHolder> : <></>}\n                            <Form onSubmit={submitForm}>\n                                <TextField\n                                    ref={inputRef}\n                                    type={\"text\"}\n                                    value={query}\n                                    onChange={(e) => {\n                                        const str = e.target.value.trim();\n                                        if(!(query ===\"\" && str === \"\"))\n                                            setQuery(e.target.value)\n                                    }}\n                                />\n                            </Form>\n                        </SearchField>\n                        <SearchButton onClick={submitForm}>\n                            <p>search</p>\n                        </SearchButton>\n                    </FormTab>\n                </FormContainer>\n                <Results>\n                {\n                    results.map( result =>\n                        <Card\n                            key={result.id}\n                            text={result.text}\n                            user_name={result.user_name}\n                        />)\n                }\n                </Results>\n            </Wrapper>\n        </>\n    )\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}